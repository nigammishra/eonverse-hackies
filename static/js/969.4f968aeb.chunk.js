"use strict";(self.webpackChunkeonverse_hackies=self.webpackChunkeonverse_hackies||[]).push([[969],{699:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var n=a(43);const t=a.p+"static/media/signinbackvideo.4ee99388f695dcf86885.mov";var i=a(315),r=a(404),o=a.n(r);const c=a(213).A.create({baseURL:"http://localhost:8080/enoverse/auth"});c.interceptors.request.use((e=>{const s=localStorage.getItem("userDetails");if(s){const a=JSON.parse(s).token;e.headers.Authorization=`Bearer ${a}`}return e}));const l=c;var d=a(579);const u=()=>{const[e,s]=(0,n.useState)(""),[a,r]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[m,h]=(0,n.useState)(""),[p,g]=(0,n.useState)(!1),[v,x]=(0,n.useState)(!1),[f,j]=(0,n.useState)(!0),[N,b]=(0,n.useState)(!1),[w,S]=(0,n.useState)(!1),k=(0,n.useRef)(null),y=(0,i.Zp)();(0,n.useEffect)((()=>{k.current&&(k.current.playbackRate=.8),setTimeout((()=>j(!1)),3e3)}),[]);const C=()=>{s(""),r(""),u(""),h("")};return(0,d.jsx)("div",{className:"signin-form-container",children:f?(0,d.jsx)("div",{className:"loader-container",children:(0,d.jsx)("div",{className:"sci-fi-loader"})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("video",{ref:k,className:"background-video",autoPlay:!0,muted:!0,loop:!0,children:[(0,d.jsx)("source",{src:t,type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,d.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),p)try{await l.put("/update-password",{email:e}),o()("Reset Password",`Reset link sent to: ${e}`,"success").then((()=>C()))}catch(h){var n,t;o()("Error",(null===(n=h.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Something went wrong","error")}else if(v)if(a!==c)o()("Error","Passwords do not match!","error");else try{await l.post("/register",{name:m,email:e,password:a,confirmPassword:c}),o()("Success",`Welcome, ${m}! Your account has been created.`,"success").then((()=>C()))}catch(h){var i,r;o()("Error",(null===(i=h.response)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.message)||"Something went wrong","error")}else try{const s=await l.post("/login",{email:e,password:a});o()("Success",`Signed in as ${s.data.user.name}`,"success").then((()=>{C(),y("/demo")}))}catch(h){var d,u;o()("Error",(null===(d=h.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)||"Invalid credentials","error")}},className:"signin-form",children:[(0,d.jsx)("h2",{className:"signin-heading",children:p?"Reset Password":v?"Sign Up":"Sign In"}),v&&(0,d.jsxs)("div",{className:"signin-input-box",children:[(0,d.jsx)("i",{className:"signin-icon fa fa-user","aria-hidden":"true"}),(0,d.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:m,onChange:e=>h(e.target.value),required:!0,className:"signin-input"})]}),(0,d.jsxs)("div",{className:"signin-input-box",children:[(0,d.jsx)("i",{className:"signin-icon fa fa-user","aria-hidden":"true"}),(0,d.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:e,onChange:e=>s(e.target.value),required:!0,className:"signin-input"})]}),(v||!p)&&(0,d.jsxs)("div",{className:"signin-input-box",children:[(0,d.jsx)("i",{className:"signin-icon fa fa-unlock-alt","aria-hidden":"true"}),(0,d.jsx)("input",{type:N?"text":"password",name:"password",placeholder:"Password",value:a,onChange:e=>r(e.target.value),pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters",required:!0,className:"signin-input"}),(0,d.jsx)("i",{className:"fa "+(N?"fa-eye-slash":"fa-eye"),onClick:()=>{b(!N)},"aria-hidden":"true"})]}),v&&(0,d.jsxs)("div",{className:"signin-input-box",children:[(0,d.jsx)("i",{className:"signin-icon fa fa-unlock-alt","aria-hidden":"true"}),(0,d.jsx)("input",{type:w?"text":"password",name:"confirmPassword",placeholder:"Confirm Password",value:c,onChange:e=>u(e.target.value),required:!0,className:"signin-input"}),(0,d.jsx)("i",{className:"fa "+(w?"fa-eye-slash":"fa-eye"),onClick:()=>{S(!w)},"aria-hidden":"true"})]}),(0,d.jsxs)("div",{className:"signin-input-box row justify-content-center",children:[(0,d.jsx)("div",{className:"col-md-12 text-center",children:(0,d.jsx)("button",{type:"submit",className:"signin-submit-btn",children:p?"Reset Password":v?"Sign Up":"Login"})}),(0,d.jsx)("div",{className:"col-md-12 text-center mt-3",children:!p&&!v&&(0,d.jsx)("button",{type:"button",onClick:()=>{x(!0),g(!1)},className:"signin-submit-btn",children:"Sign Up"})}),(0,d.jsx)("div",{className:"col-md-12 text-center",children:p?(0,d.jsx)("button",{type:"button",className:"signin-forgot-link signin-submit-btn",onClick:()=>{g(!1),x(!1)},children:"Back to Sign In"}):(0,d.jsx)(i.N_,{to:"#",className:"signin-forgot-link",onClick:()=>{g(!0),x(!1)},children:"Forgot Password"})})]})]})]})})}}}]);
//# sourceMappingURL=969.4f968aeb.chunk.js.map