"use strict";(self.webpackChunkeonverse_hackies=self.webpackChunkeonverse_hackies||[]).push([[19],{6019:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var n=a(5043),i=a(2891),t=a(4315),r=a(3023),o=a.n(r),l=a(41),c=a(579);const d=()=>{const[e,s]=(0,n.useState)(""),[a,r]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[m,p]=(0,n.useState)(""),[h,g]=(0,n.useState)(!1),[x,v]=(0,n.useState)(!1),[f,j]=(0,n.useState)(!0),[N,w]=(0,n.useState)(!1),[b,S]=(0,n.useState)(!1),k=(0,n.useRef)(null),y=(0,t.Zp)();(0,n.useEffect)((()=>{k.current&&(k.current.playbackRate=.8),setTimeout((()=>j(!1)),3e3)}),[]);const C=()=>{s(""),r(""),u(""),p("")};return(0,c.jsx)("div",{className:"signin-form-container",children:f?(0,c.jsx)("div",{className:"loader-container",children:(0,c.jsx)("div",{className:"sci-fi-loader"})}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("video",{ref:k,className:"background-video",autoPlay:!0,muted:!0,loop:!0,children:[(0,c.jsx)("source",{src:i,type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,c.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),h)try{await l.A.put("/update-password",{email:e}),o()("Reset Password",`Reset link sent to: ${e}`,"success").then((()=>C()))}catch(p){var n,i;o()("Error",(null===(n=p.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Something went wrong","error")}else if(x)if(a!==d)o()("Error","Passwords do not match!","error");else try{await l.A.post("/register",{name:m,email:e,password:a,confirmPassword:d}),o()("Success",`Welcome, ${m}! Your account has been created.`,"success").then((()=>C()))}catch(p){var t,r;o()("Error",(null===(t=p.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Something went wrong","error")}else try{const s=await l.A.post("/login",{email:e,password:a});o()("Success",`Signed in as ${s.data.user.name}`,"success").then((()=>{C(),y("/demo")}))}catch(p){var c,u;o()("Error",(null===(c=p.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message)||"Invalid credentials","error")}},className:"signin-form",children:[(0,c.jsx)("h2",{className:"signin-heading",children:h?"Reset Password":x?"Sign Up":"Sign In"}),x&&(0,c.jsxs)("div",{className:"signin-input-box",children:[(0,c.jsx)("i",{className:"signin-icon fa fa-user","aria-hidden":"true"}),(0,c.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:m,onChange:e=>p(e.target.value),required:!0,className:"signin-input"})]}),(0,c.jsxs)("div",{className:"signin-input-box",children:[(0,c.jsx)("i",{className:"signin-icon fa fa-user","aria-hidden":"true"}),(0,c.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:e,onChange:e=>s(e.target.value),required:!0,className:"signin-input"})]}),(x||!h)&&(0,c.jsxs)("div",{className:"signin-input-box",children:[(0,c.jsx)("i",{className:"signin-icon fa fa-unlock-alt","aria-hidden":"true"}),(0,c.jsx)("input",{type:N?"text":"password",name:"password",placeholder:"Password",value:a,onChange:e=>r(e.target.value),pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters",required:!0,className:"signin-input"}),(0,c.jsx)("i",{className:"fa "+(N?"fa-eye-slash":"fa-eye"),onClick:()=>{w(!N)},"aria-hidden":"true"})]}),x&&(0,c.jsxs)("div",{className:"signin-input-box",children:[(0,c.jsx)("i",{className:"signin-icon fa fa-unlock-alt","aria-hidden":"true"}),(0,c.jsx)("input",{type:b?"text":"password",name:"confirmPassword",placeholder:"Confirm Password",value:d,onChange:e=>u(e.target.value),required:!0,className:"signin-input"}),(0,c.jsx)("i",{className:"fa "+(b?"fa-eye-slash":"fa-eye"),onClick:()=>{S(!b)},"aria-hidden":"true"})]}),(0,c.jsxs)("div",{className:"signin-input-box row justify-content-center",children:[(0,c.jsx)("div",{className:"col-md-12 text-center",children:(0,c.jsx)("button",{type:"submit",className:"signin-submit-btn",children:h?"Reset Password":x?"Sign Up":"Login"})}),(0,c.jsx)("div",{className:"col-md-12 text-center mt-3",children:!h&&!x&&(0,c.jsx)("button",{type:"button",onClick:()=>{v(!0),g(!1)},className:"signin-submit-btn",children:"Sign Up"})}),(0,c.jsx)("div",{className:"col-md-12 text-center",children:h?(0,c.jsx)("button",{type:"button",className:"signin-forgot-link signin-submit-btn",onClick:()=>{g(!1),v(!1)},children:"Back to Sign In"}):(0,c.jsx)(t.N_,{to:"#",className:"signin-forgot-link",onClick:()=>{g(!0),v(!1)},children:"Forgot Password"})})]})]})]})})}}}]);
//# sourceMappingURL=19.8bb31a13.chunk.js.map